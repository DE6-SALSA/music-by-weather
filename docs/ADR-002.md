# ADR-002: [날씨 기반 배경 애니메이션을 Python 모듈로 캡슐화]

**📅 날짜**: 2025‑07‑18

**💡 고려된 옵션**

1. **Lottie 애니메이션 라이브러리 활용**
    - **장점**
        - 이미 만들어진 고퀄리티 애니메이션이 풍부하게 제공
        - JSON 파일만 교체하면 손쉽게 다양한 날씨 표현 가능
    - **단점**
        - 마음에 드는 무료 Lottie 파일을 찾기 어려움
        - JSON 다운로드/버전 관리가 번거로움
        - Streamlit에 안정적으로 임베딩하기 위해 추가 패키지(`streamlit-lottie`) 도입 필요
2. **인라인 CSS/JavaScript로 직접 애니메이션 구현**
    - **장점**
        - 외부 의존성 없이 순수 CSS/JS 만으로 즉시 커스터마이즈 가능
        - 애플리케이션 번들 크기 증가 없음
    - **단점**
        - CSS/JS 코드가 `main_page.py` 등에 길게 흘러붙어 가독성·유지보수성 저하
        - 날씨별 분기 로직과 스타일 로직이 뒤섞여 복잡성 증가
3. **외부 HTML/CSS 파일(템플릿) 분리**
    - **장점**
        - 스타일·마크업을 별도 폴더(`templates/`)로 관리 → `main_page.py` 간결화
        - 수정 시 IDE·디자이너 도구로 템플릿만 열어 작업 가능
    - **단점**
        - 파일 I/O 오버헤드 (템플릿 로드 함수 필요)
        - 배포 시 템플릿 파일 누락 주의
4. **Python 함수로 HTML/CSS 스니펫 생성 (`animations.py`)**
    - **장점**
        - 각 날씨별 로직을 함수 단위로 깔끔히 분리 → 가독성·테스트 용이
        - 반복되는 `st.markdown(…, unsafe_allow_html=True)` 호출을 모듈화
        - 외부 파일 없이 파이썬 모듈만 배포하면 됨
    - **단점**
        - 긴 f‑string 내부에서 CSS 작성 시 IDE 지원(하이라이팅 등) 부족
        - HTML/CSS 수정 시 재배포 필요
5. **Streamlit 커스텀 컴포넌트(React)로 구현**
    - **장점**
        - 복잡한 인터랙티브 애니메이션도 React 컴포넌트로 자유자재 구현 가능
        - 코드 분리·유닛 테스트·번들링 관리가 정교
    - **단점**
        - 개발 및 빌드 파이프라인 복잡도 급격히 증가
        - 작은 프로젝트에 과도한 초기 투자
        - 

**✅ 결정**

Python 함수로 HTML/CSS 스니펫을 생성하는 **`animations.py`** 모듈 방식을 채택

**🏷️ 근거**

- **모듈화 및 유지보수성**
    - 날씨별 애니메이션 로직을 모두 `animations.py` 에 집중 → `main_page.py` · `chart_rank.py` 가 간결
- **의존성 최소화**
    - 외부 템플릿·라이브러리 없이 Python 모듈만으로 구현 → 배포·CI/CD 단순화
- **일관된 개발 경험**
    - 백엔드(FastAPI)·프론트엔드(Streamlit) 모두 Python 기반 → 팀 내 숙련도 활용 극대화
- **확장 용이성**
    - 새 날씨 기능 추가 시 `animations.py` 에 함수 하나만 더 작성하면 됨

**💬 추가 참고사항**

- IDE에서 CSS/HTML 하이라이팅이 필요하다면, 별도 `.html` 템플릿으로도 분리 가능
- 향후 애니메이션 복잡도가 커지면, React 컴포넌트 기반 Streamlit 커스텀 컴포넌트 도입을 재검토 예정
- `styles.css` 오버라이드를 공통으로 유지하여 애니메이션이 항상 최상위에서 렌더링되도록 관리
